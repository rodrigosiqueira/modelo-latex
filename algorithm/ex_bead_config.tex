\begin{pseudocode}

\begin{lstlisting}[language=pseudocode, style=pseudocode]
function MAIN()
  struct bead_data data, retrieve
  status $\gets 0$

  // Queremos que o processo utilize recursos de virtualização e tenha multiplas VAS
  data.virtualization_flags = EXCEPTIONS
  data.vas_flags = VAS_CODE

  status $\gets$ beadctl(BEAD_SET_CONFIG, &data)
  // Idealmente, status deve ser varificado para checar se tudo ocorreu bem

  status $\gets$ beadctl(BEAD_GET_CONFIG, &retrieve)

\end{lstlisting}

  \caption{Código ilustrando o processo de manipular as configurações  do\emph{bead}}
  \label{alg:exconfig}
\end{pseudocode}
