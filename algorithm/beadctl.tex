\begin{pseudocode}

\begin{lstlisting}[language=pseudocode, style=pseudocode]
function beadctl(code, data)
  ret $\gets 0$
  switch(code)
    case BEAD_SET_CONFIG:
      ret $\gets$ \func{bead_set_config(data)}
      break
    case BEAD_GET_CONFIG:
      ret $\gets$ \func{bead_get_config(data)}
      break
    case BEAD_NEW_CONTEXT_INSTANCE:
      ret $\gets$ \func{bead_ctx_instance(data)}
      break
    case BEAD_SWITCH:
      ret $\gets$ \func{bead_ctx_switch(data)}
      break
    case BEAD_VIRTUALIZATION_MODE:
      ret $\gets$ \func{bead_virtualization(data)}
      break
    case BEAD_ALLOC_COMPARTMENT:
      /// ...
    case BEAD_FREE_COMPARTMENT:
      /// ...
    case BEAD_ENTER_COMPARTMENT:
      break
      /// ...
    case BEAD_EXIT_COMPARTMENT:
      /// ...
    default:
      /// ...

  return ret

\end{lstlisting}

  \caption{Função de controle das propriedades do \emph{bead}}
  \label{alg:ctlbead}
\end{pseudocode}
